"use strict";var zmooth=(()=>{var m=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var v=Object.prototype.hasOwnProperty;var _=(s,e)=>{for(var t in e)m(s,t,{get:e[t],enumerable:!0})},c=(s,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of b(e))!v.call(s,i)&&i!==t&&m(s,i,{get:()=>e[i],enumerable:!(o=p(e,i))||o.enumerable});return s};var f=s=>c(m({},"__esModule",{value:!0}),s);var T={};_(T,{ZmoothArray:()=>n,ZmoothNumber:()=>h,ZmoothObject:()=>l,default:()=>g});var a=class{_value;to;speed;_alive=!0;paused=!1;constructor(e,t,o=1){this._value=e,this.to=t,this.speed=o}kill(){this._alive=!1}get value(){return this._value}get alive(){return this._alive}reset(e){this._value=e,this.to=e}smoothValue(e,t,o){return e+(t-e)*Math.max(0,Math.min(1,this.speed*o))}};var n=class extends a{onChange;constructor(e=[],t,o){super(e,e,t),this.onChange=o}update(e){let t=this._value.length;for(;t-- >0;)this._value[t]=this.smoothValue(this._value[t],this.to[t],e);this.onChange?.(this._value)}};var h=class extends a{onChange;constructor(e=0,t=1,o){super(e,e,t),this.onChange=o}update(e){this._value=this.smoothValue(this._value,this.to,e),this.onChange?.(this._value)}};var u=class{_zmooths=[];_lastTime=performance.now();_rafID=-1;autoUpdating=!1;constructor(e=!0){this.autoUpdating=e,e&&(this._rafID=requestAnimationFrame(this._autoUpdate.bind(this)))}_autoUpdate(){this._rafID=requestAnimationFrame(this._autoUpdate.bind(this));let e=performance.now(),t=(e-this._lastTime)/1e3;this._lastTime=e,this.update(t)}setAutoUpdate(e){this.autoUpdating=e,e?this._rafID<0&&(this._rafID=requestAnimationFrame(this._autoUpdate.bind(this))):(cancelAnimationFrame(this._rafID),this._rafID=-1)}update(e){let t=this._zmooths.length;for(;t-- >0;){let o=this._zmooths[t];o.paused||(o.alive?o.update(e):this._zmooths.splice(t,1))}}val(e,t,o){let i=Array.isArray(e)?new n(e,t,o):new h(e,t,o);return this._zmooths.push(i),i}prop(e,t,o,i){return this.val(e[t],o,d=>{e[t]=d,i?.(d)})}kill(e){e.kill()}killAll(){let e=this._zmooths.length-1;for(;e-- >0;)this._zmooths[e].kill();this._zmooths=[]}destroy(){this.killAll(),cancelAnimationFrame(this._rafID)}};var l=class extends a{onChange;fieldNames;constructor(e,t,o,i){super({...e},{...e},o),this.onChange=i,this.fieldNames=t||Object.keys(e)}update(e){for(let t of this.fieldNames)this._value[t]=this.smoothValue(this._value[t],this.to[t],e);this.onChange?.(this._value)}};var r=new u(!0),g={inst:s=>new u(s),val:r.val.bind(r),prop:r.prop.bind(r),killAll:r.killAll.bind(r),setAutoUpdate:s=>r.setAutoUpdate(s),update:s=>r.update(s)};return f(T);})();
zmooth = zmooth.default;
