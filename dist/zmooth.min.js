"use strict";var zmooth=(()=>{var h=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var v=Object.prototype.hasOwnProperty;var b=(s,e)=>{for(var t in e)h(s,t,{get:e[t],enumerable:!0})},c=(s,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of p(e))!v.call(s,n)&&n!==t&&h(s,n,{get:()=>e[n],enumerable:!(o=d(e,n))||o.enumerable});return s};var T=s=>c(h({},"__esModule",{value:!0}),s);var g={};b(g,{default:()=>f});var i=class{_value;to;speed;_alive=!0;paused=!1;constructor(e,t,o=1){this._value=e,this.to=t,this.speed=o}kill(){this._alive=!1}get value(){return this._value}get alive(){return this._alive}reset(e){this._value=e,this.to=e}smoothValue(e,t,o){return e+(t-e)*this.speed*o}};var l=class extends i{onChange;constructor(e=[],t,o){super(e,e,t),this.onChange=o}update(e){let t=this._value.length;for(;t-- >0;)this._value[t]=this.smoothValue(this._value[t],this.to[t],e);this.onChange?.(this._value)}};var u=class extends i{onChange;constructor(e=0,t=1,o){super(e,e,t),this.onChange=o}update(e){this._value=this.smoothValue(this._value,this.to,e),this.onChange?.(this._value)}};var r=class{zmooths=[];lastTime=performance.now();rafID=-1;constructor(e=!0){e&&(this.rafID=requestAnimationFrame(this.autoUpdate.bind(this)))}autoUpdate(){let e=performance.now(),t=(e-this.lastTime)/1e3;this.lastTime=e,this.update(t),this.rafID=requestAnimationFrame(this.autoUpdate.bind(this))}update(e){let t=this.zmooths.length;for(;t-- >0;){let o=this.zmooths[t];o.paused||(o.alive?o.update(e):this.zmooths.splice(t,1))}}val(e,t,o){let n=Array.isArray(e)?new l(e,t,o):new u(e,t,o);return this.zmooths.push(n),n}prop(e,t,o,n){return this.val(e[t],o,m=>{e[t]=m,n?.(m)})}kill(e){e.kill()}killAll(){let e=this.zmooths.length-1;for(;e-- >0;)this.zmooths[e].kill();this.zmooths=[]}destroy(){this.killAll(),cancelAnimationFrame(this.rafID)}};var a=new r(!0),f={inst:s=>new r(s),val:a.val.bind(a),prop:a.prop.bind(a),killAll:a.killAll.bind(a)};return T(g);})();
zmooth = zmooth.default;
