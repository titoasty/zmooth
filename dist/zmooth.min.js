"use strict";var u=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var v=(s,t)=>{for(var e in t)u(s,e,{get:t[e],enumerable:!0})},c=(s,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of b(t))!d.call(s,i)&&i!==e&&u(s,i,{get:()=>t[i],enumerable:!(o=p(t,i))||o.enumerable});return s};var f=s=>c(u({},"__esModule",{value:!0}),s);var _={};v(_,{default:()=>T});module.exports=f(_);var r=class{_value;to;speed;_alive=!0;constructor(t,e,o=1){this._value=t,this.to=e,this.speed=o}kill(){this._alive=!1}get value(){return this._value}get alive(){return this._alive}smoothValue(t,e,o){return t+(e-t)*this.speed*o}};var l=class extends r{onChange;constructor(t=[],e,o){super(t,t,e),this.onChange=o}update(t){let e=this._value.length;for(;e-- >0;)this._value[e]=this.smoothValue(this._value[e],this.to[e],t);this.onChange?.(this._value)}};var h=class extends r{onChange;constructor(t=0,e=1,o){super(t,t,e),this.onChange=o}update(t){this._value=this.smoothValue(this._value,this.to,t),this.onChange?.(this._value)}};var a=class{zmooths=[];lastTime=performance.now();rafID=-1;constructor(t=!0){t&&(this.rafID=requestAnimationFrame(this.autoUpdate.bind(this)))}autoUpdate(){let t=performance.now(),e=(t-this.lastTime)/1e3;this.lastTime=t,this.update(e),this.rafID=requestAnimationFrame(this.autoUpdate.bind(this))}update(t){let e=this.zmooths.length;for(;e-- >0;){let o=this.zmooths[e];o.alive?o.update(t):this.zmooths.splice(e,1)}}val(t,e,o){let i=Array.isArray(t)?new l(t,e,o):new h(t,e,o);return this.zmooths.push(i),i}prop(t,e,o,i){return this.val(t[e],o,m=>{t[e]=m,i?.(m)})}kill(t){t.kill()}killAll(){let t=this.zmooths.length-1;for(;t-- >0;)this.zmooths[t].kill();this.zmooths=[]}destroy(){this.killAll(),cancelAnimationFrame(this.rafID)}};var n=new a(!0),T={inst:s=>new a(s),val:n.val.bind(n),prop:n.prop.bind(n),killAll:n.killAll.bind(n)};
