var s=class{_value;to;speed;_alive=!0;paused=!1;constructor(e,t,o=1){this._value=e,this.to=t,this.speed=o}kill(){this._alive=!1}get value(){return this._value}get alive(){return this._alive}reset(e){this._value=e,this.to=e}smoothValue(e,t,o){return e+(t-e)*this.speed*o}};var l=class extends s{onChange;constructor(e=[],t,o){super(e,e,t),this.onChange=o}update(e){let t=this._value.length;for(;t-- >0;)this._value[t]=this.smoothValue(this._value[t],this.to[t],e);this.onChange?.(this._value)}};var u=class extends s{onChange;constructor(e=0,t=1,o){super(e,e,t),this.onChange=o}update(e){this._value=this.smoothValue(this._value,this.to,e),this.onChange?.(this._value)}};var a=class{zmooths=[];lastTime=performance.now();rafID=-1;constructor(e=!0){e&&(this.rafID=requestAnimationFrame(this.autoUpdate.bind(this)))}autoUpdate(){let e=performance.now(),t=(e-this.lastTime)/1e3;this.lastTime=e,this.update(t),this.rafID=requestAnimationFrame(this.autoUpdate.bind(this))}update(e){let t=this.zmooths.length;for(;t-- >0;){let o=this.zmooths[t];o.paused||(o.alive?o.update(e):this.zmooths.splice(t,1))}}val(e,t,o){let r=Array.isArray(e)?new l(e,t,o):new u(e,t,o);return this.zmooths.push(r),r}prop(e,t,o,r){return this.val(e[t],o,h=>{e[t]=h,r?.(h)})}kill(e){e.kill()}killAll(){let e=this.zmooths.length-1;for(;e-- >0;)this.zmooths[e].kill();this.zmooths=[]}destroy(){this.killAll(),cancelAnimationFrame(this.rafID)}};var n=new a(!0),_={inst:i=>new a(i),val:n.val.bind(n),prop:n.prop.bind(n),killAll:n.killAll.bind(n)};export{_ as default};
